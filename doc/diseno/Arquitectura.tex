%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
% Plan de iteracion
% 17/11/08 -> 07/12/2009
% Universidad de Valladolid
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 

\documentclass[a4paper,oneside,11pt]{book}

% Incluimos todos los paquetes necesarios 
\usepackage[latin1]{inputenc} % Caracteres con acentos. 
\usepackage{latexsym} % Símbolos 
\usepackage{graphicx} % Inclusión de gráficos. Soporte para \figure
\usepackage[pdftex=true,colorlinks=true,plainpages=false]{hyperref} % Soporte hipertexto
\usepackage{rotating}

% usamos cualquier medida de márgenes y controlamos los márgenes {izquierda}{derecha}{arriba}{abajo}
%\usepackage{anysize}
%\marginsize{4.9cm}{2.1cm}{1.5cm}{4.7cm}

% Título, autor(es), fecha. 
\title{
%\begin{titlepage}
%  \begin{figure}
%    \begin{center}
%      \includegraphics[width=5cm]{images/portada.png}
%    \end{center}
%  \end{figure}
%\end{titlepage} \\
\Huge \textbf{SEPROSO. \\Arquitectura del sistema.\\}}
\author{\huge \textit{Francisco Javier Delgado del Hoyo} \and 
	\huge \textit{Yuri Torres de la Sierra} \and 
	\huge \textit{Rubén Martínez García} \and
	\huge \textit{Abel Lozoya de Diego}} 
\date{\Large Diciembre, 2008} 

\sloppy % suaviza las reglas de ruptura de líneas de LaTeX
\frenchspacing % usar espaciado normal después de '.'
\pagestyle{headings} % páginas con encabezado y pie básico

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
% Comando: 
% \figura{nombre-fichero}{argumentos}{título}{etiqueta} 
% Resultado: inserta una figura. "La figura \ref{etiqueta} muestra..." 
% permite referenciar la figura desde el texto. 
% Argumentos: width=Xcm,height=Ycm,angle=Z 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\newcommand{\figura}[4]{
  \begin{figure} 
  \begin{center} 
  \includegraphics[#2]{#1} 
  \caption{#3} 
  \label{#4} 
  \end{center} 
  \end{figure} 
} 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
% Entorno: 
% \begin{tabla}{título}{etiqueta} 
% ... (contenido tabla) 
% \end{tabla} 
% Resultado: inserta una tabla. 
% El contenido de la tabla se define mediante un entorno 'tabular'. 
% "La tabla~\ref{etiqueta}" permite referenciar la tabla. 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
\newenvironment{tabla}[2]{ 
  \begin{table} 
  \begin{center} 
  \caption{#1} 
  \label{#2} 
}{ 
  \end{center} 
  \end{table}
} 


\begin{document} % Inicio del documento 

\renewcommand{\contentsname}{Indice} 
\renewcommand{\partname}{Parte} 
\renewcommand{\chaptername}{Capítulo} 
\renewcommand{\appendixname}{Apéndice} 
\renewcommand{\bibname}{Bibliografía} 
\renewcommand{\figurename}{Figura} 
\renewcommand{\listfigurename}{Indice de figuras} 
\renewcommand{\tablename}{Tabla} 
\renewcommand{\listtablename}{Indice de tablas} 

% Parte inicial de la memoria: portada, título, prólogo e índices
\frontmatter

\maketitle % Título 

\chapter{Revisiones del documento} % Historial

\textbf{Historial de revisiones del documento}\\\\
\begin{tabular}{|c|c|p{8cm}|c|}
\hline
VERSIÓN & FECHA & DESCRIPCIÓN & AUTOR\\
\hline
0.1 & 19/11/08 & Objetivos y visión general. & Francisco\\
\hline
1.0 & 01/11/08 & Estandarización según el modelo de UPEDU. & Rubén\\
\hline
1.5 & 01/11/08 & Diagrama de despliegue añadido. & Rubén y Francisco\\
\hline
\end{tabular}


% inserta todos los epígrafes hasta el nivel \paragraph en la tabla de contenidos
\setcounter{tocdepth}{3} 
% numera todos los epígrafes hasta nivel \subparagraph en el cuerpo del documento
\setcounter{secnumdepth}{4} 

\tableofcontents % Tabla de contenido 
\newpage 
\listoffigures % Índice de figuras 
\newpage 
\listoftables % Índice de tablas 
\newpage 

% Parte central de la memoria
\mainmatter

\chapter{Introducción.} 

\section{Propósito.}

\indent \indent En este documento se presenta una visión general de la arquitectura del sistema, utilizando diferentes vistas para destacar en cada una los aspectos más importantes del sistema. Se intenta capturar y mostrar las decisiones arquitectónicas significativas tomadas en el sistema, que influirán significativamente en el resto del diseño.\\

La especificación está destinada a los diseñadores y es un artefacto de análisis y diseño del modelo de proceso UPEDU muy importante, ya que el modelo está centrado en la arquitectura. Siempre que se desarrolle un nuevo subsistema, clase o interfaz debe hacerse respetando la arquitectura básica del sistema.\\


\section{Ámbito.}

\indent \indent La arquitectura presentada corresponde a la herramienta on-line SEPROSO, que se alojará en un servidor PHP y será utilizada por el cliente mediante un navegador Web. Permite el seguimiento y control de proyectos software tanto por parte del jefe de proyecto como el jefe de personal.\\

Es un documento esencial para el diseñador la hora de diseñar las pruebas más convenientes para el sistema, y surge del análisis de la arquitectura en la fase de elaboración.\\

\section{Definiciones.}

\indent  \indent Véase el Glosario.

\section{Referencias.}

\begin{itemize}
	\item Otra documentación de SEPROSO:
	\item Glosario, Grupo 3.
	\item Especificación de Casos de Uso, Grupo 3.
	\item Especificación Suplementaria, Grupo 3.
	\item Plan de Desarrollo Software, Grupo 3.
	\item Plan de Iteración, Grupo 3.
	\item UPEDU. http://www.upedu.org/upedu/
\end{itemize}

\section{Visión general.}

\indent \indent En las siguientes secciones veremos con más detalle algunos aspectos de la arquitectura que se representan cada uno en una vista diferente. Veremos un esquema global, una vista de casos de uso y una vista lógica, tras la cual se describirán más detalladamente las clases de diseño que forman esa vista. En todas ellas utilizaremos como lenguaje de representación UML, si no se especifica ningún otro.\\

Finalmente se realiza una descripción de los elementos principales que componen la interfaz de usuario y de los factores de calidad que han influenciado la decisión de escoger esta arquitectura. Acabaremos haciendo una descripción de la metodología utilizada para medir la calidad de este artefacto.


\chapter{Representación arquitectónica.}

\indent \indent Utilizaremos una arquitectura de tres capas: presentación, negocio y datos. Es la más tradicional y sencilla para una herramienta que sólo tiene un nivel: todos los componentes están en el servidor PHP. Cada capa sólo puede comunicarse con la inmediatamente superior o inferior.\\

Debido a esta simplicidad sólo incluiremos dos vistas: casos de uso (sólo contiene paquetes  y casos de uso) y lógica (paquetes, interfaces y clases) que son estrictamente imprescindibles. Utilizaremos para la representación los diagramas de paquetes obtenidos de StarUML que a su vez utilizan el lenguaje de modelado UML.


\chapter{Restricciones y objetivos arquitectónicos.}

\indent \indent SEPROSO es una herramienta Web que se ejecuta en modo Cliente-Servidor, pero donde el cliente es un navegador Web común y el por tanto el proyecto consiste tan sólo en desarrollar la parte del lado del servidor como si fuera stand-alone. Puede ser accedida públicamente (desde cualquier ubicación) lo que hace necesaria la existencia de cuentas y de login para acceder a su funcionalidad.\\

La ejecución mediante un navegador Web hace que sea totalmente compatible con cualquier tipo de sistema operativo y hardware. Los datos se almacenarán fuera de ejecución en una base de datos remota MySQL, lo que obliga a utilizar una capa de acceso a datos, y la interfaz de usuario es una Web, lo que hace necesaria una capa de visualización o presentación debido a la complejidad de su diseño. La existencia de múltiples roles, donde cada uno tiene que tener una interfaz propia hace que esta capa contenga varias vistas diferentes. Para que sea compatible con cualquier navegador / servidor utilizaremos hojas de estilo CSS 3.0 estándar.\\

Como restricciones imponemos que:
\begin{itemize}
	\item El lenguaje de programación será PHP 5.0, que incluye facilidades para acceder a MySQL.
	\item Emplearemos el framework PRADO PHP que contiene algunas clases PHP muy útiles y que utilizan la arquitectura de tres capas.
	\item La herramienta debe funcionar en el host jair.lab.fi.uva.es y las tres capas son la solución más segura.
	\item El equipo está formado por 4 implementadores y con tres capas es más sencillo separar el trabajo.
\end{itemize}


\chapter{Vista de Casos de Uso.}

\indent \indent En esta vista se incluyen los Casos de Uso / Escenarios del modelo que representan una funcionalidad básica y central del sistema. También se incluyen aquellos que tienen una cobertura sustancial de la arquitectura (influencian a muchos elementos arquitectónicos) o que ilustran un punto específico y delicado de la arquitectura.\\

Además la Vista de Casos de Uso es importante para seleccionar aquellos Casos de Uso en los cuales se debe centrar el desarrollo de una iteración concreta (recordemos que este modelo de proceso está guiado por esos Casos de Uso).\\

Véase el documento de Especificación de Casos de Uso para más detalles.\\

\section{Realización del caso de uso.}

\indent \indent Con la realización del siguiente Caso de Uso se intenta mostrar un ejemplo de cómo trabaja la herramienta gracias a la arquitectura planteada. Esto se consigue viendo cómo se  utilizan y se relacionan  los distintos elementos del  diseño lógico que presentaremos  en la siguiente sección.\\

Véase el documento de Realización de Casos de Uso para más información.


\chapter{Vista lógica.}
\indent \indent En esta sección se describen las partes del modelo de diseño del sistema que son significativas para la arquitectura,  como son sus subsistemas internos y paquetes. Por cada paquete significativo se muestra su composición interna. Para las elementos internos más relevantes y complejos se realiza  una descripción de responsabilidad, relaciones con otras, operaciones y atributos. \\

\section{Visión general.}
\indent \indent En la siguiente imagen se muestra la vista lógica del sistema descomponiendo el modelo de diseño en una colección de paquetes relacionados jerárquicamente. Agrupando los paquetes desde un punto de vista lógico (funcional) y según las dependencias que muestra la jerarquía, tenemos las capas de la arquitectura.\\

\section{Diagrama de despliegue.}

\indent \indent El diagrama anexo \ref{despliegue} muestra los nodos disponibles y los sistemas que los soportarán:

\figura{images/DiagramaDespliegue.jpg}{width=18cm,height=8cm,angle=90}{Diagrama de despliegue.}{despliegue} 

\subsection{Nodos}

\textbf{Nodo:} 	 PC Cliente.\\
\textbf{Sistemas soportados: }	Navegador web.\\
\textbf{Dependencias:} 	Nodo Servidor Aplicación: JAIR.\\
\textbf{Descripción:} 	Es un ordenador de sobremesa con cualquier sistema operativo capaz de ejecutar un navegador web mozilla o compatible, y conexión a una redcon acceso al nodo servidor. \\ \\

\textbf{Nodo:} 	 Servidor aplicación.\\
\textbf{Sistemas soportados: }	Aplicación y servidor web.\\
\textbf{Dependencias:} 	Base de datos MySQL.\\
\textbf{Descripción:} 	Un equipo informático servidor donde almacenar y ejecutar la aplicación. Deberá disponer de un servidor web.  \\ \\

\textbf{Nodo:} 	 Servidor de Base de datos.\\
\textbf{Sistemas soportados: }Base de datos.\\
\textbf{Dependencias:} 	--\\
\textbf{Descripción:} 	Un equípo informático servidor que ejecuta un servicio de base de datos. \\ \\

\subsection{Componentes}

\textbf{Componente:} 	 Navegador WEB.\\
\textbf{Dependencias:} 	Componente de Servidor WEB.\\
\textbf{Descripción:} 	Software de pasarela entre la aplicación y el Navegador WEB. Debe soportar el protocolo HTTP.\\
\textbf{Implementaciones:}	Apache 2.0.\\

\textbf{Componente:} 	 Navegador WEB.\\
\textbf{Dependencias:} 	Componente de Servidor WEB.\\
\textbf{Descripción:} 	Software de visualización de páginas web a través de una red ip. Dicho software soportará las tecnologías HTML, XHTML, CSS y PHP.\\
\textbf{Implementaciones:}	Firefox, Internet y Opera.\\

\textbf{Componente:} 	 Aplicación.\\
\textbf{Dependencias:} 	Componente de Servidor WEB.\\
\textbf{Descripción:} 	Sistema software a implementar que cumple la totatildad de requisitos especificados por el cliente. Aplicación basada en PHP realizada con Prado PHP.\\


\textbf{Componente:} 	 Base de datos.\\
\textbf{Dependencias:} 	--.\\
\textbf{Descripción:} 	Software de base de datos para el almacenamiento persistente de la información.\\
\textbf{Implementaciones:} Utilizaremos MySQL Community Server.\\


\section{Paquetes de diseño significativos.}
\indent \indent A continuación se especifica más detalladamente la composición de cada uno de los paquetes del modelo de diseño presentado en la sección anterior. Para cada uno se incluye una nueva subsección que contiene una breve descripción del paquete y un diagrama de contenidos que muestra sus clases y subpaquetes. Después se describe también las clases más significativas internas al paquete.

\chapter{Descripción de la interfaz.}
\indent \indent Las clases de gestión de la interfaz de usuario manejan  formatos de visualización en pantalla, entradas válidas,  salidas resultantes, etc. A continuación se describen las más importantes:

\chapter{Tamaño y prestaciones.}
\indent \indent La arquitectura utilizada soporta perfectamente los requisitos de tamaño y tiempo de respuesta en interacción con el usuario planteados inicialmente, cuando se ejecuta en modo cliente-servidor. \\

Ofrece buenas prestaciones en un servidor PHP de tamaño medio y ha sido diseñada para  minimizar el espacio ocupado en el servidor. Soporta el almacenamiento persistente de toda la información que los posibles usuarios necesiten y es lo suficientemente ligera como para utilizarla con cualquier navegador


\chapter{Calidad.}
\indent \indent La arquitectura cumple todos los requisitos de calidad especificados por el cliente tal y como se recogen en los documentos SRS y SSS.\\

La arquitectura planteada aumenta la calidad del sistema en muchos  factores fundamentales:
\begin{itemize}
	\item \textbf{Extensibilidad}: la existencia de capas permite ampliar la funcionalidad de cualquiera o cambiarla sin demasiado esfuerzo ya que el acoplamiento entre capas es mínimo.
	\item \textbf{Fiabilidad}: la existencia de interfaces y la única comunicación posible con capas adyacentes reduce la posibilidad de errores.
	\item \textbf{Portabilidad}: el desarrollo en PHP permite ejecutarla en cualquier máquina con un servidor PHP que genere el código HTML tras procesar el código PHP, sin cambiar en absoluto. Además, el Gestor de Base de Datos puede cambiarse fácilmente porque la capa de datos mantendría su interfaz con la capa de negocio inalterada y sólo habría que cambiar esta última capa. Lo mismo ocurre con la interfaz de usuario que podría cambiarse a una interfaz para móviles por ejemplo.
	\item \textbf{Seguridad}: puesto que el acceso a los datos necesita pasar por la capa de negocio, se controla y valida al usuario antes de que éste puede llegar a sus datos, y no tiene  ninguna posibilidad de acceder directamente desde la interfaz de usuario.
\end{itemize}


% Parte final de la memoria
\backmatter 


% Fin del documento
\end{document}
